{"version":3,"sources":["bodies/recthair.js"],"names":["recthair","stack","Composite","remove","bodies","length","constraints","lastcos","Math","cos","angle","lastsin","sin","body","Bodies","rectangle","position","x","y","collisionFilter","group","render","sprite","texture","xScale","yScale","label","gravityScale","density","add","Constraint","create","bodyB","bodyA","pointB","pointA","stiffness","visible","angles","angleAMin","PI","angleAMax","angleAStiffness","angleBMin","angleBMax","angleBStiffness"],"mappings":";AA2CK,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EA3CCA,IAAAA,EAAAA,WA2CD,SAAA,IAAA,EAAA,KAAA,GAAA,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,SA1CMC,MAAAA,SAAAA,GACHC,UAAUC,OAAOF,EAAOA,EAAMG,OAAOH,EAAMG,OAAOC,OAAS,IAC3DH,UAAUC,OAAOF,EAAOA,EAAMK,YAAYL,EAAMK,YAAYD,OAAS,MAwCxE,CAAA,IAAA,SAtCMJ,MAAAA,SAAAA,GACGM,IAAAA,EAAUC,KAAKC,IAAIR,EAAMG,OAAOH,EAAMG,OAAOC,OAAS,GAAGK,OACzDC,EAAUH,KAAKI,IAAIX,EAAMG,OAAOH,EAAMG,OAAOC,OAAS,GAAGK,OACzDG,EAAOC,OAAOC,UAAUd,EAAMG,OAAOH,EAAMG,OAAOC,OAAS,GAAGW,SAASC,EAAe,GAAVV,EAAeN,EAAMG,OAAOH,EAAMG,OAAOC,OAAS,GAAGW,SAASE,IAAgB,GAAXP,EAAgB,GAAI,GAAI,CACzKQ,gBAAiB,CAAEC,MAAOA,OAC1BC,OAAQ,CACJC,OAAQ,CACJC,QAAS,mBACTC,OAAQ,GACRC,OAAQ,KAGhBC,MAAO,WACPC,cAAe,EACfC,QAAS,KACTlB,MAAOT,EAAMG,OAAOH,EAAMG,OAAOC,OAAS,GAAGK,QAE3CD,EAAMD,KAAKC,IAAII,EAAKH,OACpBE,EAAMJ,KAAKI,IAAIC,EAAKH,OAC1BR,UAAU2B,IAAI5B,EAAOY,GACrBX,UAAU2B,IAAI5B,EAAO6B,WAAWC,OAAO,CACnCC,MAAOnB,EACPoB,MAAOhC,EAAMG,OAAOH,EAAMG,OAAOC,OAAS,GAC1C6B,OAAQ,CAAEjB,GAAU,GAAPR,EAAY,EAAGS,GAAU,GAAPN,GAC/BuB,OAAQ,CAAElB,EAAS,GAANR,EAAW,EAAGS,EAAS,GAANN,GAC9BwB,UAAW,EACX/B,OAAQ,EACRgB,OAAQ,CACJgB,SAAS,EACTC,QAAQ,GAEZC,UAAY,GAAM/B,KAAKgC,GAAK,EAC5BC,UAAkBjC,KAAKgC,GAAK,EAAhB,GACZE,gBAAiB,IACjBC,UAAY,GAAMnC,KAAKgC,GAAK,EAC5BI,UAAkBpC,KAAKgC,GAAK,EAAhB,GACZK,gBAAiB,WAExB,EA3CC7C","file":"recthair.5ca370bf.js","sourceRoot":"..","sourcesContent":["class recthair {\r\n    remove(stack) {\r\n        Composite.remove(stack, stack.bodies[stack.bodies.length - 1])\r\n        Composite.remove(stack, stack.constraints[stack.constraints.length - 1])\r\n    }\r\n    create(stack) {\r\n        const lastcos = Math.cos(stack.bodies[stack.bodies.length - 1].angle)\r\n        const lastsin = Math.sin(stack.bodies[stack.bodies.length - 1].angle)\r\n        const body = Bodies.rectangle(stack.bodies[stack.bodies.length - 1].position.x + (lastcos * 40), stack.bodies[stack.bodies.length - 1].position.y - (lastsin * -40), 15, 55, { \r\n            collisionFilter: { group: group },\r\n            render: {\r\n                sprite: {\r\n                    texture: 'img/hairrect.png',\r\n                    xScale: .6,\r\n                    yScale: .6\r\n                }\r\n            },\r\n            label: 'recthair',\r\n            gravityScale: -1,\r\n            density: 0.00001,\r\n            angle: stack.bodies[stack.bodies.length - 1].angle\r\n        });\r\n        const cos = Math.cos(body.angle)\r\n        const sin = Math.sin(body.angle)\r\n        Composite.add(stack, body)\r\n        Composite.add(stack, Constraint.create({ \r\n            bodyB: body,\r\n            bodyA: stack.bodies[stack.bodies.length - 2],\r\n            pointB: { x: cos * -15 - 8, y: sin * -15},\r\n            pointA: { x: cos * 22 + 8, y: sin * 22 },\r\n            stiffness: 1,\r\n            length: 0,\r\n            render: {\r\n                visible: false,\r\n                angles: false\r\n            },\r\n            angleAMin:  0.2 + Math.PI / 2,\r\n            angleAMax: -0.2 + Math.PI / 2,\r\n            angleAStiffness: 0.01,\r\n            angleBMin:  0.2 + Math.PI / 2,\r\n            angleBMax: -0.2 + Math.PI / 2,\r\n            angleBStiffness: 0.01\r\n        }))\r\n    }\r\n    \r\n}"]}